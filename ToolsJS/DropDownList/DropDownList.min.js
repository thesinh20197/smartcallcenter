var EventNameDDL={click:"click",blur:"blur",focus:"focus",change:"change",insertNewRecord:"insertNewRecord",itemClick:"itemClick",itemMouseOver:"itemMouseOver",itemMouseMove:"itemMouseMove",itemMouseOut:"itemMouseOut"};var ColummTypeDDL={label:"label",image:"image"};DropDownListBTD=function(idParent,configData,myName,myStyle,isCbo){if(idParent==null)return;this.myName=myName;this.isBTD=true;this.isHideList=false;this.myStyle=typeof(myStyle)=="undefined"?"":myStyle;this.heightItem=19;this.maxItem=configData.maxItem==null?10:configData.maxItem;this.elContainerList=null;this.elContainer=null;this.oTableList=null;if(typeof(isCbo)=="undefined"||!isCbo){this.elContainerParent=typeof(idParent)=="string"?utilObj.getElById(idParent):idParent;this.configData=utilObj.cloneObject(configData);}
else{var oCbo=typeof(idParent)=="string"?utilObj.getElById(idParent):idParent;this.elContainerParent=oCbo.parentNode;this.configData=null;this.createListFromCbo(oCbo);this.elContainerParent.removeChild(oCbo);}
this.listEvent=new Array();this.itemSelected=null;this.oldValue="";this.oldElRow=null;this.isTextBoxReadOnly=false;this.isReadOnly=false;this.enabledAutoCom=true;this.isMultiSelect=false;if(this.elContainerParent!=null)this.createMain();var self=this;this.alreadyKeyDown=false;this.whenKeyDown=function(e){self.documentKeyDownDDL(e);};};DropDownListBTD.prototype.checkDataHasImage=function()
{var isHasImage=false;var maxHeight=15;var listCols=this.configData.mapField.display;for(var i=0;i<listCols.length;i++)
{if(listCols[i].type==ColummTypeDDL.image)
{isHasImage=true;if(maxHeight<listCols[i].height)
{maxHeight=listCols[i].height;}}}
var delta=((utilObj.isIE||utilObj.isOpera)?5:7);if(isHasImage&&maxHeight>this.heightItem-delta)
{this.heightItem=maxHeight+delta;}};DropDownListBTD.prototype.createMain=function(){try{this.createContainer();var self=this;utilObj.addEvent(document,"mousedown",function(e){self.documentMouseDownDDL(e);});utilObj.addEvent(window,"resize",function(e){});utilObj.addEvent(document,"scroll",function(e){self.hideList(e);});}
catch(e)
{}};DropDownListBTD.prototype.setWidth=function(w){w+="";w=(w.indexOf("%",0)==-1)?((w.indexOf("px",0)==-1)?w+"px":w):w;this.elContainer.style.width=w;};DropDownListBTD.prototype.getPositionView=function(){return utilObj.getElementPositionView(this.elContainer);};DropDownListBTD.prototype.getSize=function(){return utilObj.getElementSize(this.elContainer);};DropDownListBTD.prototype.createContainer=function()
{this.elContainer=utilObj.createEl("DIV");this.elContainer.className="containerDDL"+this.myStyle;this.elContainerParent.appendChild(this.elContainer);this.createTextBox();this.createButton();this.createContainerList();};DropDownListBTD.prototype.createTextBox=function()
{var o=utilObj.createEl("INPUT");o.className="inputDDL";o.readOnly=this.isTextBoxReadOnly;o.nameDDL=this.myName;if(this.configData.textPlaceholder!=null&&this.configData.textPlaceholder!=''){o.placeholder=this.configData.textPlaceholder;}
var self=this;utilObj.addEvent(o,"mouseover",function(e){self.mouseOverDDL(e);});utilObj.addEvent(o,"mouseout",function(e){self.mouseOutDDL(e);});utilObj.addEvent(o,"click",function(e){self.mouseClickDDL(e);});utilObj.addEvent(o,"keydown",function(e){self.textBoxKeyDownDDL(e);});utilObj.addEvent(o,"focus",function(e){self.mouseFocusDDL(e);});utilObj.addEvent(o,"blur",function(e){self.textBoxBlurDDL(e);});this.oTextBox=o;this.oTextBox.style.height=(this.getSize().height-6)+'px';this.elContainer.appendChild(o);};DropDownListBTD.prototype.createButton=function(){var o=utilObj.createEl("DIV");o.className="imgButtonDDL";o.nameDDL=this.myName;var oBtn=utilObj.createEl("DIV");oBtn.nameDDL=this.myName;o.appendChild(oBtn);var self=this;utilObj.addEvent(o,"mouseover",function(e){self.mouseOverDDL(e);});utilObj.addEvent(o,"mouseout",function(e){self.mouseOutDDL(e);});utilObj.addEvent(o,"click",function(e){self.mouseClickDDL(e);});utilObj.addEvent(o,"focus",function(e){self.mouseFocusDDL(e);});this.oBtn=o;this.oBtn.style.height=(this.getSize().height-6)+'px';this.elContainer.appendChild(o);};DropDownListBTD.prototype.setHeight=function(h){this.elContainer.style.height=h+'px';this.oBtn.style.height=(h-4)+'px';this.oTextBox.style.height=(h-4)+'px';};DropDownListBTD.prototype.createContainerList=function(){this.elContainerList=utilObj.createEl("DIV");this.elContainerList.className="divListDDL";this.elContainerList.nameDDL=this.myName;this.elContainerList.style.top="-1000px";this.elContainerList.style.left="-1000px";utilObj.addChildToBody(this.elContainerList);this.createList();if(this.configData.isShowAddNew){this.createAddNewRecord();}
this.elContainerList.style.display="none";};DropDownListBTD.prototype.createAddNewRecord=function(){var me=this;var elCon=utilObj.createEl("DIV");elCon.nameDDL=this.myName;elCon.className='cTableAddNew';this.elContainerList.appendChild(elCon);var elTable=utilObj.createEl("TABLE");elTable.className="tableAddNew";elTable.nameDDL=this.myName;elCon.appendChild(elTable);var btnAdd=utilObj.createEl('DIV');btnAdd.className='btnAddDDL';btnAdd.nameDDL=this.myName;btnAdd.innerHTML='+';utilObj.addEvent(btnAdd,'click',function(e){if(e==null){e=utilObj.getWindowEvent();if(e==null){e=new Object();}}
e.itemData={};for(var i=0;i<elTable.rows[0].cells.length;i++){var elCell=elTable.rows[0].cells[i];switch(oCol.type){case ColummTypeDDL.label:e.itemData[elCell.oCol.field]=elCell.element.value;break;}}
if(me.configData.functionAddNew!=null){me.configData.functionAddNew(e.itemData,function(item){for(var i=0;i<elTable.rows[0].cells.length;i++){var elCell=elTable.rows[0].cells[i];switch(oCol.type){case ColummTypeDDL.label:elCell.element.value;break;}}});}
me.executeEvent(e,EventNameDDL.insertNewRecord);});elCon.appendChild(btnAdd);var elRow=elTable.insertRow(elTable.rows.length);elRow.nameDDL=this.myName;for(var i=0;i<this.configData.mapField.display.length;i++){var elCell=elRow.insertCell(elRow.cells.length);var oCol=this.configData.mapField.display[i];elCell.oCol=oCol;oCol.elCellAddNew=elCell;switch(oCol.type){case ColummTypeDDL.label:elCell.element=utilObj.createEl("INPUT");elCell.element.type="text";if(oCol.caption!=null){elCell.element.placeholder=oCol.caption;}
elCell.element.nameDDL=this.myName;elCell.element.style.width="100%";elCell.element.className="inputText";elCell.appendChild(elCell.element);break;}}};DropDownListBTD.prototype.createList=function(){var elContainerTable=utilObj.createEl("DIV");elContainerTable.className="cTableDDL";elContainerTable.nameDDL=this.myName;this.elContainerTable=elContainerTable;this.elContainerList.appendChild(elContainerTable);this.oTableList=utilObj.createEl("TABLE");this.oTableList.className="tableListDDL";this.oTableList.nameDDL=this.myName;this.oTableList.style.visibility="visible";elContainerTable.appendChild(this.oTableList);this.createTBodyList();};DropDownListBTD.prototype.createTBodyList=function()
{for(var i=0;i<this.configData.data.length;i++){this.insertRow(this.configData.data[i]);}};DropDownListBTD.prototype.insertRow=function(item){var elRow=this.oTableList.insertRow(this.oTableList.rows.length);elRow.item=item;item.elRow=elRow;elRow.nameDDL=this.myName;elRow.className="itemListDDL";if(this.configData.mapField.color!=null){var elCell=elRow.insertCell(elRow.cells.length);elCell.nameMSB=this.myName;elCell.style.width="25px";elCell.elColor=utilObj.createEl("DIV");elCell.elColor.nameMSB=this.myName;elCell.appendChild(elCell.elColor);elCell.elColor.style.border="1px solid #808080";elCell.elColor.style.fontSize="0px";elCell.elColor.style.width="15px";elCell.elColor.style.height="15px";elCell.elColor.style.margin="auto";elCell.elColor.style.backgroundColor="#"+elRow.item[this.configData.mapField.color];}
for(var i=0;i<this.configData.mapField.display.length;i++){this.insertCell(elRow,this.configData.mapField.display[i]);}
this.mapEventForRow(elRow);};DropDownListBTD.prototype.insertCell=function(elRow,oCol){switch(oCol.type)
{case ColummTypeDDL.label:this.createLabel(elRow,oCol);break;case ColummTypeDDL.image:this.createImage(elRow,oCol);break;}};DropDownListBTD.prototype.createLabel=function(elRow,oCol){elCell=elRow.insertCell(elRow.cells.length);if(oCol.width!=null){elCell.style.minWidth=oCol.width+"px";}
elCell.nameDDL=this.myName;elCell.element=utilObj.createEl("LABEL");elCell.element.nameDDL=this.myName;elCell.element.innerHTML=elRow.item[oCol.field];elCell.appendChild(elCell.element);return elCell;};DropDownListBTD.prototype.createImage=function(elRow,oCol){elCell=elRow.insertCell(elRow.cells.length);elCell.nameDDL=this.myName;elCell.element=utilObj.createEl("IMG");elCell.element.nameDDL=this.myName;elCell.element.src=elRow.item[oCol.field];elCell.element.height=oCol.height;elCell.element.width=oCol.width;elCell.appendChild(elCell.element);return elCell;};DropDownListBTD.prototype.mouseOverItemDDL=function(elRow,e){if(this.oldElRow!=null&&this.oldElRow!=elRow){this.oldElRow.className="itemListDDL";}
elRow.className="itemListDDL_over";this.oldElRow=elRow;};DropDownListBTD.prototype.clickItemDDL=function(elRow,e){this.hideList();if(this.itemSelected==null||(this.itemSelected!=null&&this.itemSelected[this.configData.mapField.text]!=elRow.item[this.configData.mapField.text])||this.oTextBox.value!=this.oldValue){this.itemSelected=elRow.item;this.oldValue=this.oTextBox.value;this.oTextBox.value=elRow.item[this.configData.mapField.text];this.oldElRow=elRow;this.executeEvent(e,EventNameDDL.change);}};DropDownListBTD.prototype.documentMouseDownDDL=function(e){var o=utilObj.getTargetElement(e);if(typeof(o.nameDDL)!="undefined"&&o.nameDDL==this.myName){return;}
this.hideList();};DropDownListBTD.prototype.documentKeyDownDDL=function(e){e=utilObj.getWindowEvent();if(e.ctrlKey||e.altKey||e.shiftKey){return false;}
this.isHideList=false;switch(e.keyCode){case 38:if(document.activeElement!=this.oTextBox)return;this.gotoItem(true);break;case 40:if(document.activeElement!=this.oTextBox)return;this.gotoItem(false);break;case 27:this.isHideList=true;this.hideList();break;case 13:case 9:if(document.activeElement!=this.oTextBox)return;this.isHideList=true;if(this.oldElRow!=null&&this.enabledAutoCom){this.clickItemDDL(this.oldElRow,e);}
else if(this.oTextBox.value!=this.oldValue)
{this.oldValue=this.oTextBox.value;this.hideList();this.executeEvent(e,EventNameDDL.change);}
utilObj.stopEvent();break;default:if(document.activeElement!=this.oTextBox)return;var self=this;if(!this.isTextBoxReadOnly){setTimeout(function(){self.toComplete();},50);}
break;}
return false;};DropDownListBTD.prototype.mouseFocusDDL=function(e){if(!this.alreadyKeyDown){this.alreadyKeyDown=true;utilObj.addEvent(document,"keydown",this.whenKeyDown);}
this.executeEvent(e,EventNameDDL.focus);};DropDownListBTD.prototype.mouseOverDDL=function(e){this.oBtn.className="imgButtonDDL_over";};DropDownListBTD.prototype.mouseOutDDL=function(e){this.oBtn.className="imgButtonDDL";};DropDownListBTD.prototype.mouseClickDDL=function(e){if(this.isReadOnly)return;this.showList(e);this.executeEvent(e,EventNameDDL.click);};DropDownListBTD.prototype.textBoxKeyDownDDL=function(e){if(!this.alreadyKeyDown){this.alreadyKeyDown=true;utilObj.addEvent(document,"keydown",this.whenKeyDown);}
if(this.elContainerList.style.display=="none"&&!this.isHideList){this.mouseClickDDL(e);}};DropDownListBTD.prototype.textBoxBlurDDL=function(e){if(this.oTextBox.value==""){var hasChange=this.itemSelected!=null;this.reset();if(hasChange){this.executeEvent(e,EventNameDDL.change);}}
else{this.oTextBox.value=this.getText();}
this.executeEvent(e,EventNameDDL.blur);};DropDownListBTD.prototype.mapEventForRow=function(elRow)
{var self=this;elRow["onclick"]=function(e)
{self.clickItemDDL(elRow,e);e=utilObj.getWindowEvent();e.item=elRow.item;self.executeEvent(e,EventNameDDL.itemClick);};elRow["onmouseover"]=function(e)
{self.mouseOverItemDDL(elRow,e);e=utilObj.getWindowEvent();e.item=elRow.item;self.executeEvent(e,EventNameDDL.itemMouseOver);};elRow["onmousemove"]=function(e)
{e=utilObj.getWindowEvent();e.item=elRow.item;self.executeEvent(e,EventNameDDL.itemMouseMove);};elRow["onmouseout"]=function(e)
{e=utilObj.getWindowEvent();e.item=elRow.item;self.executeEvent(e,EventNameDDL.itemMouseOut);};};DropDownListBTD.prototype.addEvent=function(eventName,func)
{if(this.listEvent[eventName]==null)
{this.listEvent[eventName]=[];}
this.listEvent[eventName].push(func);};DropDownListBTD.prototype.removeEvent=function(eventName,func)
{if(this.listEvent[eventName]==null)
{return;}
for(var i=0;i<this.listEvent[eventName].length;i++)
{if(func==this.listEvent[eventName][i])
{this.listEvent[eventName].splice(i,1);break;}}};DropDownListBTD.prototype.executeEvent=function(e,eventName)
{if(this.listEvent[eventName]!=null)
{for(var i=0;i<this.listEvent[eventName].length;i++)
{this.listEvent[eventName][i](e);}}};DropDownListBTD.prototype.clearListItems=function()
{this.configData.data=[];while(this.oTableList.rows.length>0)
{this.oTableList.deleteRow(0);}
this.oTextBox.value="";};DropDownListBTD.prototype.isExistItem=function(value)
{var list=this.configData.data;var isExist=false;for(var i=0;i<list.length;i++)
{if(list[i][this.configData.mapField.value]==value)
{isExist=true;break;}}
return isExist;};DropDownListBTD.prototype.createListFromCbo=function(oCbo){this.configData={mapField:{value:"value",text:"text",search:"text",display:[{name:"text",field:"text",type:ColummTypeDDL.label}]},data:[]};for(var i=0;i<oCbo.length;i++){this.configData.data.push({value:oCbo[i].value,text:oCbo[i].text});}};DropDownListBTD.prototype.enableTextBox=function()
{this.isTextBoxReadOnly=false;this.oTextBox.readOnly=this.isTextBoxReadOnly;};DropDownListBTD.prototype.disableTextBox=function()
{this.isTextBoxReadOnly=true;this.oTextBox.readOnly=this.isTextBoxReadOnly;};DropDownListBTD.prototype.toComplete=function(){var isSelected=false;var vSearch=this.oTextBox.value.toUpperCase();var arrVSearch=vSearch.split(" ");for(var i=0;i<this.configData.data.length;i++){var elRow=this.configData.data[i].elRow;var arrFieldSearch=[];var isFound=false;if(typeof this.configData.mapField.search=="string"){arrFieldSearch.push(this.configData.mapField.search);}
else{arrFieldSearch=this.configData.mapField.search;}
var countK=0;for(var k=0;k<arrVSearch.length;k++){for(var j=0;j<arrFieldSearch.length;j++){var v=this.configData.data[i][arrFieldSearch[j]];if(v==null)continue;var v=v.toUpperCase();if(v.indexOf(arrVSearch[k],0)!=-1){countK++;break;}}}
isFound=countK==arrVSearch.length;if(isFound){if(!isSelected){if(this.oldElRow!=null){this.oldElRow.className="itemListDDL";}
elRow.className="itemListDDL_over";this.oldElRow=elRow;isSelected=true;}
elRow.style.display="";}
else{elRow.style.display="none";}}
this.calcWidth();};DropDownListBTD.prototype.gotoItem=function(isUp){var elRowTemp=this.oldElRow;var counter=0;if(elRowTemp!=null){this.oldElRow.className="itemListDDL";for(var i=0;i<this.configData.data.length;i++){var elRow=this.configData.data[i].elRow;if(elRow.style.display==""){counter++;}
if(elRow==elRowTemp)break;}}
var rowIndex=0;while(true){if(elRowTemp!=null){rowIndex=elRowTemp.rowIndex;if((rowIndex==0&&isUp)||(rowIndex==this.oTableList.rows.length-1&&!isUp))break;if(isUp){if(elRowTemp.previousSibling.style.display=="none"){elRowTemp=elRowTemp.previousSibling;continue;}
else{this.oldElRow=elRowTemp.previousSibling;counter-=2;break;}}
else{if(elRowTemp.nextSibling.style.display=="none"){elRowTemp=elRowTemp.nextSibling;continue;}
else{this.oldElRow=elRowTemp.nextSibling;break;}}}
else{if(this.oTableList.rows.length>0){elRowTemp=this.oTableList.rows[0];if(elRowTemp.nextSibling.style.display=="none"){elRowTemp=elRowTemp.nextSibling;continue;}
else{this.oldElRow=elRowTemp;break;}}
else{return;}}}
if(this.oldElRow!=null){var curentPos=counter*this.heightItem;var startPos=this.elContainerList.scrollTop;var endPos=startPos+(this.maxItem*this.heightItem);if(startPos>curentPos||endPos<=curentPos){var scrollDown=curentPos-(this.maxItem*this.heightItem)+this.heightItem;this.elContainerList.scrollTop=isUp?curentPos:(scrollDown<0?0:scrollDown);}
this.oldElRow.className="itemListDDL_over";this.oTextBox.value=this.oldElRow.item[this.configData.mapField.text];this.oTextBox.select();}};DropDownListBTD.prototype.calcWidth=function(){var minWidth=utilObj.getElementSize(this.elContainer).width;var sizeTableList=utilObj.getElementSize(this.oTableList);var w=sizeTableList.width+17<minWidth?minWidth:sizeTableList.width;var maxHeight=(this.maxItem*this.heightItem);this.elContainerTable.style.maxHeight=maxHeight+"px";this.elContainerTable.style.overflow="auto";if(this.configData.isShowAddNew){for(var i=0;i<this.configData.mapField.display.length;i++){var elCell=this.configData.mapField.display[i].elCellAddNew;if(sizeTableList.height>maxHeight){elCell.style.width=(w/2)+'px';}
else{elCell.style.width=((w-20)/2)+'px';}}}
if(sizeTableList.height>maxHeight){this.oTableList.style.width=(utilObj.isEE?w-17:w)+"px";w=w+17;}
else{this.oTableList.style.width=(w<0?0:w)+"px";}
this.elContainerList.style.width=this.elContainerTable.style.width=w+"px";};DropDownListBTD.prototype.calcPosition=function(){var sizeParent=utilObj.getElementSize(this.elContainer);var sizeChild=utilObj.getElementSize(this.elContainerList);var docScroll=utilObj.getDocumentScroll();var pos=utilObj.getElementPositionView(this.elContainer);var sizeClient=utilObj.getDocument();if((pos.Y+sizeParent.height+sizeChild.height)-docScroll.scrollTop>sizeClient.clientHeight){pos.Y-=sizeChild.height+2;}
else{pos.Y+=sizeParent.height-1;}
if(sizeChild.width>sizeClient.clientWidth){pos.X=docScroll.scrollLeft;}
else if(pos.X+sizeChild.width>sizeClient.clientWidth+docScroll.scrollLeft){pos.X=sizeClient.clientWidth+docScroll.scrollLeft-sizeChild.width;}
this.elContainerList.style.top=pos.Y+"px";this.elContainerList.style.left=pos.X+"px";};DropDownListBTD.prototype.showList=function(e){this.elContainerList.style.display="block";for(var i=0;i<this.configData.data.length;i++){this.configData.data[i].elRow.style.display="";if(i==0){this.heightItem=utilObj.getElementSize(this.configData.data[i].elRow.cells[0]).height;}}
this.oTableList.style.width="0px";this.calcWidth();if(this.oldElRow!=null){this.elContainerList.scrollTop=this.oldElRow.rowIndex*this.heightItem;}
this.elContainerList.style.top="0px";this.elContainerList.style.left="0px";this.calcPosition();};DropDownListBTD.prototype.hideList=function()
{if(this.elContainerList==null)return;this.elContainerList.style.display="none";this.elContainerList.style.top="-1000px";this.elContainerList.style.left="-1000px";if(this.alreadyKeyDown)
{this.alreadyKeyDown=false;utilObj.removeEvent(document,"keydown",this.whenKeyDown);}};DropDownListBTD.prototype.dispose=function()
{this.elContainerParent.removeChild(this.elContainer);this.elContainerList=null;this.elContainer=null;this.oldElRow=this.itemSelected=null;};DropDownListBTD.prototype.reset=function()
{if(this.oldElRow!=null)
{this.oldElRow.className="itemListDDL";}
this.oldElRow=this.itemSelected=null;this.oTextBox.value="";};DropDownListBTD.prototype.reloadData=function(data){if(this.oTableList!=null){this.configData=utilObj.cloneObject(data);this.maxItem=this.configData.maxItem==null?10:this.configData.maxItem;this.elContainerList.removeChild(this.elContainerTable);this.elContainerList.style.display="block";this.createList();this.elContainerList.style.display="none";}};DropDownListBTD.prototype.loadListItems=function(list)
{this.clearListItems();this.configData.data=list;this.createTBodyList();};DropDownListBTD.prototype.addItem=function(item){this.configData.data.push(item);this.insertRow(item);};DropDownListBTD.prototype.updateItem=function(item){var list=this.configData.data;for(var i=0;i<list.length;i++){if(item[this.configData.mapField.value]==list[i][this.configData.mapField.value]){for(var key in item){if(list[i][key]!=null){list[i][key]=item[key];}}
if(this.itemSelected!=null&&this.itemSelected.elRow==list[i].elRow){this.oTextBox.value=item[this.configData.mapField.text];}
var elRow=list[i].elRow;for(var k=0;k<this.configData.mapField.display.length;k++){var oCol=this.configData.mapField.display[k];switch(oCol.type){case ColummTypeDDL.label:elRow.cells[k].element.innerHTML=elRow.item[oCol.field];break;case ColummTypeDDL.image:elRow.cells[k].element.src=elRow.item[oCol.field];break;}}
break;}}};DropDownListBTD.prototype.removeItem=function(value)
{var list=this.configData.data;for(var i=0;i<list.length;i++)
{if(value==list[i][this.configData.mapField.value])
{if(this.itemSelected!=null&&this.itemSelected.elRow==list[i].elRow)
{this.reset();}
this.oTableList.tBodies[0].removeChild(list[i].elRow);list.splice(i,1);break;}}};DropDownListBTD.prototype.getItemSelected=function()
{return this.itemSelected;};DropDownListBTD.prototype.focus=function(){this.oTextBox.focus();};DropDownListBTD.prototype.getValue=function(useQuote){if(this.itemSelected==null){return null;}
if(useQuote!=null&&useQuote){return"'"+this.itemSelected[this.configData.mapField.value]+"'";}
return this.itemSelected[this.configData.mapField.value];};DropDownListBTD.prototype.getText=function(){if(this.itemSelected==null){return"";}
return this.enabledAutoCom?this.itemSelected[this.configData.mapField.text]:this.oTextBox.value;};DropDownListBTD.prototype.selectedValue=function(v,useQuote){if(this.oTableList!=null){this.reset();var elRows=this.oTableList.rows;for(var i=0;i<elRows.length;i++){var isChecked=elRows[i].item[this.configData.mapField.value]==v;if(useQuote!=null&&useQuote){isChecked="'"+elRows[i].item[this.configData.mapField.value]+"'"==v;}
if(elRows[i].item[this.configData.mapField.value]==v){if(this.oldElRow!=null){this.oldElRow.className="itemListDDL";}
this.oldElRow=elRows[i];this.itemSelected=this.oldElRow.item;this.oTextBox.value=this.oldElRow.item[this.configData.mapField.text];this.oldElRow.className="itemListDDL_over";break;}}}};DropDownListBTD.prototype.setReadOnly=function(isReadOnly){this.isReadOnly=isReadOnly;this.oTextBox.readOnly=isReadOnly;this.oTextBox.disabled=isReadOnly;};
