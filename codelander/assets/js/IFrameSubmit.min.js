IFrameSubmit=function(form,onStart,onComplete)
{this.f=form;this.onStart=onStart;this.onComplete=onComplete;this.t=undefined;}
IFrameSubmit.prototype={init:function(){var me=this;if(typeof(this.f)=="string"){this.f=document.getElementById(this.f);}
var n=this.f.id+"f"+Math.floor(Math.random()*99999);var div=document.createElement('DIV');div.innerHTML="<iframe style=\"display:none\" src=\"about:blank\" id=\""+n+"\" name=\""+n+"\"></iframe>";document.body.appendChild(div);this.f.target=n;this.t=document.getElementById(n);utilObj.addEvent(this.t,"load",function(e){var i=me.t;if(i.contentDocument){var d=i.contentDocument;}
else if(i.contentWindow){var d=i.contentWindow.document;}
else{var d=window.frames[id].document;}
if(d.location.href=="about:blank"){return;}
if((me.onComplete!=undefined)&&(typeof(me.onComplete)=='function')){var msg=d.body.innerHTML;var response=JSON.eval(msg);me.onComplete(response);}});}};IFrameSubmit.prototype.submit=function(onComplete)
{if((onComplete!=undefined)&&(typeof(onComplete)=='function'))
{this.onComplete=onComplete;}
if(this.t==undefined)
{this.init();}
if((this.onStart!=undefined)&&(typeof(this.onStart)=='function'))
{if(this.onStart())
{this.f.submit();}}
else
{this.f.submit();}};IFrameSubmit.prototype.reset=function()
{this.f.reset();};
